{"version":3,"file":"js/605.2d86d691.js","mappings":"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","sources":["webpack://d3_vis/./src/views/ForceView.vue","webpack://d3_vis/./src/views/ForceView.vue?88a3"],"sourcesContent":["<template>\n  <div>\n    <h2>Vue.js and D3 </h2>\n    <h2>{{ title }}</h2>\n\n    <v-container class=\"bg-surface-variant\" fluid>\n      <v-row no-gutters>\n        <v-col cols=\"12\" sm=\"4\">\n          <h3>\n            Code\n          </h3>\n        </v-col>\n        <v-col cols=\"12\" sm=\"8\">\n          <h3>\n            Visualization\n          </h3>\n        </v-col>\n\n      </v-row>\n      <v-row no-gutters>\n\n        <v-col cols=\"12\" sm=\"4\">\n          <v-card class=\"ma-1\" style=\"overflow-y: scroll;\" height=\"630\">\n            <pre><code> {{ codeSample }} </code></pre>\n          </v-card>\n        </v-col>\n\n        <v-col cols=\"12\" sm=\"8\">\n          <div ref=\"box\">\n            <v-sheet class=\"ma-2 pa-2\">\n              <svg :width=\"this.width\" height=\"600\" class=\"container-border\" preserveAspectRatio=\"none\">\n              </svg>\n            </v-sheet>\n          </div>\n        </v-col>\n\n      </v-row>\n    </v-container>\n\n  </div>\n</template>\n\n\n<script>\nimport * as d3 from 'd3'\n\nexport default {\n  name: 'ForceView',\n  data() {\n    return {\n      width: 600,\n      title: 'Force directed graph',\n      codeSample: `\n<script>\nimport * as d3 from 'd3'\nexport default {\n  name: 'ForceView',\n  data() {\n    return {\n      codeSample: \\` //The code you are reading \\` \n    }\n  },\n  mounted() {\n    let marge = { top: 60, bottom: 60, left: 60, right: 60 }\n    let svg = d3.select('svg')\n    let width = svg.attr('width')\n    let height = svg.attr('height')\n    let g = svg.append('g')\n      .attr('transform', 'translate('+marge.top+','+marge.left+')')\n    // Node Dataset\n    // 节点集\n    let nodes = [\n      { name: 'qwerty' },\n      { name: 'asdf' },\n      { name: '1111' },\n      { name: '1234' },\n      { name: 'lkhj' },\n      { name: 'abc' },\n      { name: 'xyz' },\n      { name: 'a' },\n      { name: 'b' }\n    ]\n      `\n    }\n  },\n  created() {\n    window.addEventListener(\"resize\", this.setBoxWidth);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.setBoxWidth);\n  },\n  methods: {\n    setBoxWidth() {\n      try {\n        this.width = this.$refs.box.clientWidth - 40; // Good enough\n      }\n      catch {\n        this.width = 400\n      }\n    }\n  },\n  mounted() {\n    this.setBoxWidth()\n\n    let marge = { top: 60, bottom: 60, left: 60, right: 60 }\n    let svg = d3.select('svg')\n    let width = svg.attr('width')\n    let height = svg.attr('height')\n    let g = svg.append('g')\n      .attr('transform', 'translate(' + marge.top + ',' + marge.left + ')')\n    // Node Dataset\n    // 节点集\n    let nodes = [\n      { name: 'qwerty' },\n      { name: 'asdf' },\n      { name: '1111' },\n      { name: '1234' },\n      { name: 'lkhj' },\n      { name: 'abc' },\n      { name: 'xyz' },\n      { name: 'a' },\n      { name: 'b' }\n    ]\n    // Side Dataset\n    // 边集\n    let edges = [\n      { source: 0, target: 4, relation: '籍贯', value: 1.3 },\n      { source: 4, target: 5, relation: '舍友', value: 1 },\n      { source: 4, target: 6, relation: '舍友', value: 1 },\n      { source: 4, target: 7, relation: '舍友', value: 1 },\n      { source: 1, target: 6, relation: '籍贯', value: 2 },\n      { source: 2, target: 5, relation: '籍贯', value: 0.9 },\n      { source: 3, target: 7, relation: '籍贯', value: 1 },\n      { source: 5, target: 6, relation: '同学', value: 1.6 },\n      { source: 6, target: 7, relation: '朋友', value: 0.7 },\n      { source: 6, target: 8, relation: '职责', value: 2 }\n    ]\n    // Set a color scale\n    // 设置一个颜色比例尺\n    let colorScale = d3.scaleOrdinal()\n      .domain(d3.range(nodes.length))\n      .range(d3.schemeCategory10)\n    // Create a new force guide diagram\n    // 新建一个力导向图\n    let forceSimulation = d3.forceSimulation()\n      .force('link', d3.forceLink())\n      .force('charge', d3.forceManyBody())\n      .force('center', d3.forceCenter())\n    // Generate node data\n    // 生成节点数据\n    forceSimulation.nodes(nodes)\n      .on('tick', ticked)\n    // Generate side data\n    // 生成边数据\n    forceSimulation.force('link')\n      .links(edges)\n      .distance(function (d) { // side length / 每一边的长度\n        return d.value * 100\n      })\n    // Set drawing center location\n    // 设置图形中心位置\n    forceSimulation.force('center')\n      .x(width / 2)\n      .y(height / 2)\n    // Draw side\n    // 绘制边\n    let links = g.append('g')\n      .selectAll('line')\n      .data(edges)\n      .enter()\n      .append('line')\n      .attr('stroke', function (d, i) {\n        return colorScale(i)\n      })\n      .attr('stroke-width', 1)\n    // Text on side\n    // 边上的文字\n    let linksText = g.append('g')\n      .selectAll('text')\n      .data(edges)\n      .enter()\n      .append('text')\n      .text(function (d) {\n        return d.relation\n      })\n    // Create group\n    // 创建分组\n    let gs = g.selectAll('.circleText')\n      .data(nodes)\n      .enter()\n      .append('g')\n      .attr('transform', function (d) {\n        let cirX = d.x\n        let cirY = d.y\n        return 'translate(' + cirX + ',' + cirY + ')'\n      })\n      .call(d3.drag()\n        .on('start', started)\n        .on('drag', dragged)\n        .on('end', ended)\n      )\n    // Draw node\n    // 绘制节点\n    gs.append('circle')\n      .attr('r', 10)\n      .attr('fill', function (d, i) {\n        return colorScale(i)\n      })\n    // Draw text\n    // 绘制文字\n    gs.append('text')\n      .attr('x', -10)\n      .attr('y', -20)\n      .attr('dy', 10)\n      .text(function (d) {\n        return d.name\n      })\n    // ticked\n    function ticked() {\n      links\n        .attr('x1', function (d) { return d.source.x })\n        .attr('y1', function (d) { return d.source.y })\n        .attr('x2', function (d) { return d.target.x })\n        .attr('y2', function (d) { return d.target.y })\n      linksText\n        .attr('x', function (d) { return (d.source.x + d.target.x) / 2 })\n        .attr('y', function (d) { return (d.source.y + d.target.y) / 2 })\n      gs\n        .attr('transform', function (d) { return 'translate(' + d.x + ',' + d.y + ')' })\n    }\n    // drag\n    function started(event, d) {\n      if (!event.active) {\n        forceSimulation.alphaTarget(0.8).restart() // Set the attenuation coefficient to simulate the node position movement process. The higher the value, the faster the movement. The value range is [0, 1] // 设置衰减系数，对节点位置移动过程的模拟，数值越高移动越快，数值范围[0, 1]\n      }\n      gs.filter(p => p === d).raise().attr(\"stroke\", \"black\")\n      d.fx = d.x\n      d.fy = d.y\n    }\n    function dragged(event, d) {\n      d.fx = event.x\n      d.fy = event.y\n    }\n    function ended(event, d) {\n      if (!event.active) {\n        forceSimulation.alphaTarget(0)\n      }\n      gs.filter(p => p === d).raise().attr(\"stroke\", null)\n      d.fx = null\n      d.fy = null\n    }\n  }\n}\n</script>\n\n<style scoped>\npre {\n  background-color: #eee;\n  border: 1px solid #999;\n  display: block;\n  padding: 20px;\n  text-align: left;\n}\n\nsvg {\n  border: 1px solid rgba(0, 0, 255, 0.281);\n}\n</style>","import { render } from \"./ForceView.vue?vue&type=template&id=0ded1d9e&scoped=true\"\nimport script from \"./ForceView.vue?vue&type=script&lang=js\"\nexport * from \"./ForceView.vue?vue&type=script&lang=js\"\n\nimport \"./ForceView.vue?vue&type=style&index=0&id=0ded1d9e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\luukv\\\\source\\\\repos\\\\d3_vis\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ded1d9e\"]])\n\nexport default __exports__"],"names":["ref","title","class","fluid","cols","sm","style","height","codeSample","width","preserveAspectRatio","name","data","created","window","addEventListener","this","setBoxWidth","destroyed","removeEventListener","methods","$refs","box","clientWidth","mounted","marge","top","bottom","left","right","svg","attr","g","append","nodes","edges","source","target","relation","value","colorScale","domain","length","range","forceSimulation","force","on","ticked","links","distance","d","x","y","selectAll","enter","i","linksText","text","gs","cirX","cirY","call","started","dragged","ended","event","active","alphaTarget","restart","filter","p","raise","fx","fy","__exports__","render"],"sourceRoot":""}