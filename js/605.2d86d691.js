"use strict";(self["webpackChunkd3_vis"]=self["webpackChunkd3_vis"]||[]).push([[605],{605:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var a=n(252),r=n(577);const l=t=>((0,a.dD)("data-v-0ded1d9e"),t=t(),(0,a.Cn)(),t),o=l((()=>(0,a._)("h2",null,"Vue.js and D3 ",-1))),i=l((()=>(0,a._)("h3",null," Code ",-1))),s=l((()=>(0,a._)("h3",null," Visualization ",-1))),u={ref:"box"},c=["width"];function d(t,e,n,l,d,f){const m=(0,a.up)("v-col"),h=(0,a.up)("v-row"),g=(0,a.up)("v-card"),p=(0,a.up)("v-sheet"),v=(0,a.up)("v-container");return(0,a.wg)(),(0,a.iD)("div",null,[o,(0,a._)("h2",null,(0,r.zw)(d.title),1),(0,a.Wm)(v,{class:"bg-surface-variant",fluid:""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{cols:"12",sm:"4"},{default:(0,a.w5)((()=>[i])),_:1}),(0,a.Wm)(m,{cols:"12",sm:"8"},{default:(0,a.w5)((()=>[s])),_:1})])),_:1}),(0,a.Wm)(h,{"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{cols:"12",sm:"4"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"ma-1",style:{"overflow-y":"scroll"},height:"630"},{default:(0,a.w5)((()=>[(0,a._)("pre",null,[(0,a._)("code",null," "+(0,r.zw)(d.codeSample)+" ",1)])])),_:1})])),_:1}),(0,a.Wm)(m,{cols:"12",sm:"8"},{default:(0,a.w5)((()=>[(0,a._)("div",u,[(0,a.Wm)(p,{class:"ma-2 pa-2"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)("svg",{width:this.width,height:"600",class:"container-border",preserveAspectRatio:"none"},null,8,c))])),_:1})],512)])),_:1})])),_:1})])),_:1})])}var f=n(620),m={name:"ForceView",data(){return{width:600,title:"Force directed graph",codeSample:"\n<script>\nimport * as d3 from 'd3'\nexport default {\n  name: 'ForceView',\n  data() {\n    return {\n      codeSample: ` //The code you are reading ` \n    }\n  },\n  mounted() {\n    let marge = { top: 60, bottom: 60, left: 60, right: 60 }\n    let svg = d3.select('svg')\n    let width = svg.attr('width')\n    let height = svg.attr('height')\n    let g = svg.append('g')\n      .attr('transform', 'translate('+marge.top+','+marge.left+')')\n    // Node Dataset\n    // 节点集\n    let nodes = [\n      { name: 'qwerty' },\n      { name: 'asdf' },\n      { name: '1111' },\n      { name: '1234' },\n      { name: 'lkhj' },\n      { name: 'abc' },\n      { name: 'xyz' },\n      { name: 'a' },\n      { name: 'b' }\n    ]\n      "}},created(){window.addEventListener("resize",this.setBoxWidth)},destroyed(){window.removeEventListener("resize",this.setBoxWidth)},methods:{setBoxWidth(){try{this.width=this.$refs.box.clientWidth-40}catch{this.width=400}}},mounted(){this.setBoxWidth();let t={top:60,bottom:60,left:60,right:60},e=f.Ys("svg"),n=e.attr("width"),a=e.attr("height"),r=e.append("g").attr("transform","translate("+t.top+","+t.left+")"),l=[{name:"qwerty"},{name:"asdf"},{name:"1111"},{name:"1234"},{name:"lkhj"},{name:"abc"},{name:"xyz"},{name:"a"},{name:"b"}],o=[{source:0,target:4,relation:"籍贯",value:1.3},{source:4,target:5,relation:"舍友",value:1},{source:4,target:6,relation:"舍友",value:1},{source:4,target:7,relation:"舍友",value:1},{source:1,target:6,relation:"籍贯",value:2},{source:2,target:5,relation:"籍贯",value:.9},{source:3,target:7,relation:"籍贯",value:1},{source:5,target:6,relation:"同学",value:1.6},{source:6,target:7,relation:"朋友",value:.7},{source:6,target:8,relation:"职责",value:2}],i=f.PKp().domain(f.w6H(l.length)).range(f.Cn1),s=f.A4v().force("link",f.Fsl()).force("charge",f.q5i()).force("center",f.wqt());s.nodes(l).on("tick",m),s.force("link").links(o).distance((function(t){return 100*t.value})),s.force("center").x(n/2).y(a/2);let u=r.append("g").selectAll("line").data(o).enter().append("line").attr("stroke",(function(t,e){return i(e)})).attr("stroke-width",1),c=r.append("g").selectAll("text").data(o).enter().append("text").text((function(t){return t.relation})),d=r.selectAll(".circleText").data(l).enter().append("g").attr("transform",(function(t){let e=t.x,n=t.y;return"translate("+e+","+n+")"})).call(f.ohM().on("start",h).on("drag",g).on("end",p));function m(){u.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),c.attr("x",(function(t){return(t.source.x+t.target.x)/2})).attr("y",(function(t){return(t.source.y+t.target.y)/2})),d.attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}))}function h(t,e){t.active||s.alphaTarget(.8).restart(),d.filter((t=>t===e)).raise().attr("stroke","black"),e.fx=e.x,e.fy=e.y}function g(t,e){e.fx=t.x,e.fy=t.y}function p(t,e){t.active||s.alphaTarget(0),d.filter((t=>t===e)).raise().attr("stroke",null),e.fx=null,e.fy=null}d.append("circle").attr("r",10).attr("fill",(function(t,e){return i(e)})),d.append("text").attr("x",-10).attr("y",-20).attr("dy",10).text((function(t){return t.name}))}},h=n(744);const g=(0,h.Z)(m,[["render",d],["__scopeId","data-v-0ded1d9e"]]);var p=g}}]);
//# sourceMappingURL=605.2d86d691.js.map